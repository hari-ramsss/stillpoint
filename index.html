<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StillPoint</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    <div class="banner" id="banner">
        <div class="navbar">
            <ul>
                <li class="active"><a href="#banner">Home</a></li>
                <li><a href="story.html">Story</a></li>
                <li><a href="characters.html">Characters</a></li>
                <li><a href="community.html">Community</a></li>
                <li><a href="map.html">map</a></li>
                <li><a href="#contact">Help</a></li>
            </ul>
        </div>
        <img src="./img/Firefly_just_a_single_big_cloud_which_is_almost_square_in_shape_and_it_is_cartoonistic_and_wh_959366-removebg-preview.png"
            alt="" class="cloud1">
        <img src="./img/Firefly_just_a_single_big_cloud_which_is_almost_square_in_shape_and_it_is_cartoonistic_and_wh_959366-removebg-preview.png"
            alt="" class="cloud2">
        <div class="title">
            <svg width="400" height="400" viewBox="0 0 119 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M8.18182 0.545454H12.2727V4.63636H8.18182V0.545454ZM4.09091 0.545454H8.18182V4.63636H4.09091V0.545454ZM0 4.63636H4.09091V8.72727H0V4.63636ZM0 8.72727H4.09091V12.8182H0V8.72727ZM4.09091 8.72727H8.18182V12.8182H4.09091V8.72727ZM8.18182 8.72727H12.2727V12.8182H8.18182V8.72727ZM8.18182 12.8182H12.2727V16.9091H8.18182V12.8182ZM8.18182 16.9091H12.2727V21H8.18182V16.9091ZM4.09091 16.9091H8.18182V21H4.09091V16.9091ZM0 16.9091H4.09091V21H0V16.9091ZM0 0.545454H4.09091V4.63636H0V0.545454ZM16.3477 0.545454H20.4386V4.63636H16.3477V0.545454ZM16.3477 4.63636H20.4386V8.72727H16.3477V4.63636ZM16.3477 8.72727H20.4386V12.8182H16.3477V8.72727ZM16.3477 12.8182H20.4386V16.9091H16.3477V12.8182ZM16.3477 16.9091H20.4386V21H16.3477V16.9091ZM20.4386 16.9091H24.5295V21H20.4386V16.9091ZM20.4386 4.63636H24.5295V8.72727H20.4386V4.63636ZM28.6084 16.9091H32.6993V21H28.6084V16.9091ZM28.6084 12.8182H32.6993V16.9091H28.6084V12.8182ZM28.6084 8.72727H32.6993V12.8182H28.6084V8.72727ZM28.6084 0.545454H32.6993V4.63636H28.6084V0.545454ZM36.7822 0.545454H40.8731V4.63636H36.7822V0.545454ZM36.7822 4.63636H40.8731V8.72727H36.7822V4.63636ZM36.7822 8.72727H40.8731V12.8182H36.7822V8.72727ZM36.7822 12.8182H40.8731V16.9091H36.7822V12.8182ZM36.7822 16.9091H40.8731V21H36.7822V16.9091ZM44.9561 0.545454H49.047V4.63636H44.9561V0.545454ZM44.9561 4.63636H49.047V8.72727H44.9561V4.63636ZM44.9561 8.72727H49.047V12.8182H44.9561V8.72727ZM44.9561 12.8182H49.047V16.9091H44.9561V12.8182ZM44.9561 16.9091H49.047V21H44.9561V16.9091ZM53.1299 0.545454H57.2208V4.63636H53.1299V0.545454ZM53.1299 4.63636H57.2208V8.72727H53.1299V4.63636ZM53.1299 8.72727H57.2208V12.8182H53.1299V8.72727ZM53.1299 12.8182H57.2208V16.9091H53.1299V12.8182ZM53.1299 16.9091H57.2208V21H53.1299V16.9091ZM57.2208 0.545454H61.3117V4.63636H57.2208V0.545454ZM61.3117 0.545454H65.4026V4.63636H61.3117V0.545454ZM61.3117 4.63636H65.4026V8.72727H61.3117V4.63636ZM61.3117 8.72727H65.4026V12.8182H61.3117V8.72727ZM57.2208 8.72727H61.3117V12.8182H57.2208V8.72727ZM69.4775 8.72727H73.5684V12.8182H69.4775V8.72727ZM69.4775 12.8182H73.5684V16.9091H69.4775V12.8182ZM73.5684 16.9091H77.6594V21H73.5684V16.9091ZM77.6594 12.8182H81.7503V16.9091H77.6594V12.8182ZM77.6594 8.72727H81.7503V12.8182H77.6594V8.72727ZM73.5684 4.63636H77.6594V8.72727H73.5684V4.63636ZM85.8252 16.9091H89.9161V21H85.8252V16.9091ZM85.8252 12.8182H89.9161V16.9091H85.8252V12.8182ZM85.8252 8.72727H89.9161V12.8182H85.8252V8.72727ZM85.8252 0.545454H89.9161V4.63636H85.8252V0.545454ZM93.999 16.9091H98.0899V21H93.999V16.9091ZM93.999 12.8182H98.0899V16.9091H93.999V12.8182ZM93.999 8.72727H98.0899V12.8182H93.999V8.72727ZM93.999 4.63636H98.0899V8.72727H93.999V4.63636ZM98.0899 4.63636H102.181V8.72727H98.0899V4.63636ZM102.181 8.72727H106.272V12.8182H102.181V8.72727ZM102.181 12.8182H106.272V16.9091H102.181V12.8182ZM102.181 16.9091H106.272V21H102.181V16.9091ZM110.347 0.545454H114.438V4.63636H110.347V0.545454ZM110.347 4.63636H114.438V8.72727H110.347V4.63636ZM110.347 8.72727H114.438V12.8182H110.347V8.72727ZM110.347 12.8182H114.438V16.9091H110.347V12.8182ZM110.347 16.9091H114.438V21H110.347V16.9091ZM114.438 16.9091H118.528V21H114.438V16.9091ZM114.438 4.63636H118.528V8.72727H114.438V4.63636Z"
                    fill="black" />
            </svg>
            <div>
                <h3><a href="./stillpoint1.html" style="text-decoration: none;color: black;">
                        <h3>Enter the Realm</h3>
                    </a></h3>
            </div>
            <div>
                <a href="#banner1">
                    <p>please click here to see the rest</p>
                    <i class="fa-solid fa-angles-down"></i>
                </a>
            </div>
        </div>
    </div>
    <div class="banner1" id="banner1">
        <img src="./img/swordshield.png" alt="">
        <div>
            <div class="container-white1">
                <div class="images-container">
                    <div>
                        <img src="./img/pixelboy.png" alt="">
                    </div>
                    <div></div>
                    <div>
                        <img src="./img/pixelgirl.png" alt="">
                    </div>
                </div>
            </div>
            <div class="container-white1-text">
                <h1>Welcome to StillPoint</h1>
                <span>Explore the world of fantasy and adventure.</span>
                <p>Join us on a journey through mystical lands, where heroes rise and legends are born. Immerse yourself
                    in captivating stories, meet unforgettable characters, and discover the magic that awaits in every
                    corner of our realm.</p>
                <a href="story.html" class="btn">See the Story<img src="./img/icons/progressionandfeatures.ico"
                        alt=""></a>
            </div>
        </div>
        <div class="container2" id="container2">
            <div class="text2">
                <h1 data-start="10" data-end="25">Legends</h1>
            </div>
            <div class="text2">
                <h1 data-start="25" data-end="40">Mystics</h1>
            </div>
            <div class="text2">
                <h1 data-start="40" data-end="55">Heroes</h1>
            </div>
            <div class="text2">
                <h1 data-start="55" data-end="70">Demons</h1>
            </div>
            <div class="text2">
                <h1 data-start="70" data-end="85">Vampires</h1>
            </div>
            <div class="text2">
                <h1 data-start="85" data-end="100">EMBRACE THEM ALL</h1>
            </div>
        </div>
    </div>

    <div class="minecraft-progress">
        <div class="progress-block"></div>
        <div class="progress-block"></div>
        <div class="progress-block"></div>
        <div class="progress-block"></div>
        <div class="progress-block"></div>
        <div class="progress-block"></div>
    </div>

    <script>
        const textElements = document.querySelectorAll('.container2 .text2 h1');
        const progressBlocks = document.querySelectorAll('.progress-block');
        const progressIndicator = document.querySelector('.minecraft-progress');
        const container2 = document.getElementById('container2');
        let currentActiveIndex = -1;
        let isContainer2InView = false;

        // Function to check if container2 is in viewport
        function isElementInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            ) || (
                    rect.top < window.innerHeight &&
                    rect.bottom > 0
                );
        }

        // Minecraft-style sound effect simulation (visual feedback)
        function playMinecraftEffect(element) {
            element.style.filter = 'brightness(1.5) contrast(1.2)';
            setTimeout(() => {
                element.style.filter = 'none';
            }, 100);
        }

        function getScrollPercentageInContainer() {
            if (!isContainer2InView) return -1;

            const containerRect = container2.getBoundingClientRect();
            const windowHeight = window.innerHeight;

            // Calculate how much of the container has been scrolled through
            const containerTop = containerRect.top;
            const containerHeight = containerRect.height;

            let scrollProgress = 0;

            if (containerTop <= 0) {
                // Container is being scrolled
                scrollProgress = Math.abs(containerTop) / (containerHeight - windowHeight);
            }

            return Math.min(Math.max(scrollProgress * 100, 0), 100);
        }

        function updateMinecraftAnimation() {
            isContainer2InView = isElementInViewport(container2);

            if (isContainer2InView) {
                progressIndicator.style.display = 'flex';
                const scrollPercentage = getScrollPercentageInContainer();

                textElements.forEach((element, index) => {
                    const startPercentage = parseFloat(element.getAttribute('data-start'));
                    const endPercentage = parseFloat(element.getAttribute('data-end'));

                    // Update progress blocks
                    if (scrollPercentage >= startPercentage && scrollPercentage <= endPercentage) {
                        progressBlocks[index].classList.add('active');
                    } else {
                        progressBlocks[index].classList.remove('active');
                    }

                    if (scrollPercentage >= startPercentage && scrollPercentage <= endPercentage) {
                        // Element should be active
                        if (!element.classList.contains('minecraft-active')) {
                            // Remove any previous animation classes
                            element.classList.remove('minecraft-disappear');

                            // Add appear animation
                            element.classList.add('minecraft-appear');
                            playMinecraftEffect(element);

                            // After appear animation, add active state
                            setTimeout(() => {
                                element.classList.remove('minecraft-appear');
                                element.classList.add('minecraft-active');
                                currentActiveIndex = index;
                            }, 600);
                        }
                    } else {
                        // Element should be inactive
                        if (element.classList.contains('minecraft-active') || element.classList.contains('minecraft-appear')) {
                            // Remove active state and add disappear animation
                            element.classList.remove('minecraft-active', 'minecraft-appear');
                            element.classList.add('minecraft-disappear');

                            // After disappear animation, remove all classes
                            setTimeout(() => {
                                element.classList.remove('minecraft-disappear');
                            }, 500);
                        }
                    }
                });
            } else {
                progressIndicator.style.display = 'none';
                // Reset all animations when not in view
                textElements.forEach(element => {
                    element.classList.remove('minecraft-active', 'minecraft-appear', 'minecraft-disappear');
                });
                progressBlocks.forEach(block => {
                    block.classList.remove('active');
                });
            }
        }

        // Optimized scroll handler
        let ticking = false;
        function onScroll() {
            if (!ticking) {
                requestAnimationFrame(() => {
                    updateMinecraftAnimation();
                    ticking = false;
                });
                ticking = true;
            }
        }

        // Add click effects to active text elements
        textElements.forEach((element, index) => {
            element.addEventListener('click', function () {
                if (this.classList.contains('minecraft-active')) {
                    // Create a "block break" effect
                    this.style.transform = 'scale(1.1) rotateY(5deg)';
                    playMinecraftEffect(this);

                    setTimeout(() => {
                        this.style.transform = '';
                    }, 200);
                }
            });
        });

        // Event listeners
        window.addEventListener('scroll', onScroll);
        window.addEventListener('resize', updateMinecraftAnimation);

        // Initial call
        updateMinecraftAnimation();

        // Add keyboard interaction for fun
        document.addEventListener('keydown', function (e) {
            if (e.code === 'Space' && currentActiveIndex >= 0 && isContainer2InView) {
                e.preventDefault();
                const activeElement = textElements[currentActiveIndex];
                if (activeElement && activeElement.classList.contains('minecraft-active')) {
                    activeElement.click();
                }
            }
        });
    </script>
</body>

</html>